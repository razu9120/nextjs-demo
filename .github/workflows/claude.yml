name: demo-pipeline

on:
  issues:
    types: [opened, reopened]

jobs:
  fix-issues:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Fix bugs
      uses: anthropics/claude-code-action@v1
      with:
        anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}
        prompt: |
          You are a helpful assistant that can fix bugs in code.
          Please fix the bugs mentioned in the issue.
          Create a pull request with the changes you made.
          The pull request should be created in the same repository as the issue.
          The pull request should be created in the same branch as the issue.